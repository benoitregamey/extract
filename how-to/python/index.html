
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://asit-asso.github.io/extract/how-to/python/">
      
      
        <link rel="prev" href="../fme-flow/">
      
      
        <link rel="next" href="../qgis-server-atlas/">
      
      
        
      
      
      <link rel="icon" href="../../assets/extract_favicon64.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Set up an extraction using Python - Extract Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Asap:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Asap";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#set-up-an-extraction-using-python" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Extract Documentation" class="md-header__button md-logo" aria-label="Extract Documentation" data-md-component="logo">
      
  <img src="../../assets/asit_extract_blanc.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Extract Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Set up an extraction using Python
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/asit-asso/extract" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    asit-asso/extract
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Introduction

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting-started/install/" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../features/user-guide/" class="md-tabs__link">
        
  
  
    
  
  User guide

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../features/admin-guide/" class="md-tabs__link">
        
  
  
    
  
  Admin guide

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../features/development/" class="md-tabs__link">
          
  
  
  Dev guide

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../extract-viageo/" class="md-tabs__link">
          
  
  
  How-To

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../misc/viageo-test/" class="md-tabs__link">
          
  
  
  Miscellaneous

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Extract Documentation" class="md-nav__button md-logo" aria-label="Extract Documentation" data-md-component="logo">
      
  <img src="../../assets/asit_extract_blanc.png" alt="logo">

    </a>
    Extract Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/asit-asso/extract" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    asit-asso/extract
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/configure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/network-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Integrate Extract in your network
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/customize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Customize
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/cybersecurity-win/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cybersecurity risk mitigations (Windows)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/cybersecurity-linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cybersecurity risk mitigations (Linux)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/user-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    User guide
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/admin-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Admin guide
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Dev guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Dev guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Application architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    How-To
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    How-To
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../extract-viageo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Connect Extract to viageo.ch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fme-form/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Set up an extraction using FME Form (desktop)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fme-flow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Set up an extraction using FME Flow (Server)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Set up an extraction using Python
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Set up an extraction using Python
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#set-up-the-python-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        Set up the Python script :
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connect-the-workspace-to-extract" class="md-nav__link">
    <span class="md-ellipsis">
      
        Connect the workspace to Extract
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../qgis-server-atlas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Set up an extraction using QGIS Server (atlas print layout)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Miscellaneous
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Miscellaneous
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/viageo-test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    viageo.ch Validation Instance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../.." class="md-path__link">
        
  <span class="md-ellipsis">
    Introduction
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../extract-viageo/" class="md-path__link">
          
  <span class="md-ellipsis">
    How-To
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="set-up-an-extraction-using-python">Set up an extraction using Python</h1>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This tutorial uses the extraction plugin <code>Extraction Python</code> that allows you to run a custom Python script. A functional Python interpreter for the script (version, dependencies, etc.) must be provided.</p>
</div>
<p>To follow along with this tutorial, you can download the sample script and data available <a href="https://github.com/asit-asso/extraction-samples">here</a>. Either by cloning the repo :</p>
<div class="highlight"><pre><span></span><code>git clone https://github.com/asit-asso/extraction-samples.git
</code></pre></div>
<p>Or downloading a ZIP archive with the following link : <a href="https://github.com/asit-asso/extraction-samples/archive/refs/heads/main.zip">https://github.com/asit-asso/extraction-samples/archive/refs/heads/main.zip</a></p>
<p>In the subfolder <code>python</code>, you will find a Python script example <code>main.py</code>, data to extract <code>inputData.gpkg</code> and a parameters GeoJSON file example <code>parameters.json</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In addition to Python 3, this example uses a third party OGR2OGR executable. The latter must be installed and available on your system if you want to make the example work.</p>
</div>
<h2 id="set-up-the-python-script">Set up the Python script :</h2>
<ol>
<li>
<p>First we need to import necessary Python packages to run the script. All used packages are provided by the standard python distribution, so ne need to install them.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">subprocess</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
</code></pre></div>
</li>
<li>
<p>Then we setup 2 global variables, the path where the business data to extract are saved and the path of the OGR2OGR executable tu use. All paths can be absolute or relative to the Python script that will be run.</p>
<div class="highlight"><pre><span></span><code><span class="n">OGR2OGR_PATH</span> <span class="o">=</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">OSGeo4W</span><span class="se">\\</span><span class="s2">bin</span><span class="se">\\</span><span class="s2">ogr2ogr.exe&quot;</span>
<span class="n">INPUT_DATA</span> <span class="o">=</span> <span class="s2">&quot;inputData.gpkg&quot;</span>
</code></pre></div>
</li>
<li>
<p>The Python extraction plugin sends all request parameters in a <code>GeoJSON</code> file. The path of the latter is given as the first CLI argument when running the python script.</p>
<p>Therefore, the Python script must retrieve this parameters file by reading the CLI argument and opening and parsing the <code>GeoJSON</code> file.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Get parameters file path from command line argument</span>
<span class="n">parameters_file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># Read and parse the parameters.json file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">parameters_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
    <span class="n">parameters</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>
</code></pre></div>
<p>Once done, all request parameters are available in the <code>parameters</code> variable as a python dictionary.</p>
</li>
<li>
<p>Since our business data are in <code>EPSG:2056</code>, we need to reproject the parameters file from <code>EPSG:4326</code> to <code>EPSG:2056</code> in order to use it to clip our data. We will save it as a temporary <code>clipper.geojson</code> file in FolderOut.</p>
<div class="highlight"><pre><span></span><code><span class="n">cmd</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">OGR2OGR_PATH</span><span class="p">,</span>
    <span class="s2">&quot;-s_srs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;EPSG:4326&quot;</span><span class="p">,</span>
    <span class="s2">&quot;-t_srs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;EPSG:2056&quot;</span><span class="p">,</span>
    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;FolderOut&quot;</span><span class="p">],</span>
        <span class="s2">&quot;clipper.geojson&quot;</span>
    <span class="p">),</span>
    <span class="n">parameters_file</span>
<span class="p">]</span>

<span class="c1"># Run the ogr2ogr command while catching and raising errors</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Processing parameters file failed&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</code></pre></div>
</li>
<li>
<p>Before running the last OGR2OGR command, we need to translate the format and projection from the parameters file into the GDAL vocabulary.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Translate format to OGR format name</span>
<span class="k">if</span> <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;Parameters&quot;</span><span class="p">][</span><span class="s2">&quot;FORMAT&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;GEOJSON&quot;</span><span class="p">:</span>
    <span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;GeoJSON&quot;</span>
<span class="k">elif</span> <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;Parameters&quot;</span><span class="p">][</span><span class="s2">&quot;FORMAT&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;GPKG&quot;</span><span class="p">:</span>
    <span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;GPKG&quot;</span>
<span class="k">elif</span> <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;Parameters&quot;</span><span class="p">][</span><span class="s2">&quot;FORMAT&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;DXF&quot;</span><span class="p">:</span>
    <span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;DXF&quot;</span>

<span class="c1"># Translate Projection to OGR CRS name</span>
<span class="k">if</span> <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;Parameters&quot;</span><span class="p">][</span><span class="s2">&quot;PROJECTION&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;SWITZERLAND95&quot;</span><span class="p">:</span>
    <span class="n">output_proj</span> <span class="o">=</span> <span class="s2">&quot;EPSG:2056&quot;</span>
<span class="k">elif</span> <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;Parameters&quot;</span><span class="p">][</span><span class="s2">&quot;PROJECTION&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;SWITZERLAND&quot;</span><span class="p">:</span>
    <span class="n">output_proj</span> <span class="o">=</span> <span class="s2">&quot;EPSG:21781&quot;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">output_proj</span> <span class="o">=</span> <span class="s2">&quot;EPSG:2056&quot;</span>
</code></pre></div>
</li>
<li>
<p>We can now run the final OGR2GR command to extract the data. The command will clip, reproject and save the data into FolderOut.</p>
<div class="highlight"><pre><span></span><code><span class="n">cmd</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">OGR2OGR_PATH</span><span class="p">,</span>
    <span class="s2">&quot;-s_srs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;EPSG:2056&quot;</span><span class="p">,</span>
    <span class="s2">&quot;-t_srs&quot;</span><span class="p">,</span>
    <span class="n">output_proj</span><span class="p">,</span>
    <span class="s2">&quot;-clipsrc&quot;</span><span class="p">,</span>
    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;FolderOut&quot;</span><span class="p">],</span>
        <span class="s2">&quot;clipper.geojson&quot;</span>
    <span class="p">),</span>
    <span class="s2">&quot;-f&quot;</span><span class="p">,</span>
    <span class="nb">format</span><span class="p">,</span>
    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;FolderOut&quot;</span><span class="p">],</span>
        <span class="sa">f</span><span class="s2">&quot;result.</span><span class="si">{</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;Parameters&quot;</span><span class="p">][</span><span class="s2">&quot;FORMAT&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">),</span>
    <span class="n">INPUT_DATA</span>
<span class="p">]</span>

<span class="c1"># Run the ogr2ogr command while catching and raising errors</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
<span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Processing data failed&quot;</span><span class="p">)</span>
    <span class="k">raise</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>
</code></pre></div>
</li>
<li>
<p>Finally, we delete the temporary <code>clipper.geojson</code> to avoid sending it to the client.</p>
<div class="highlight"><pre><span></span><code><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;FolderOut&quot;</span><span class="p">],</span>
        <span class="s2">&quot;clipper.geojson&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
</li>
</ol>
<p>Here is the final Python script :</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">subprocess</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>

<span class="n">OGR2OGR_PATH</span> <span class="o">=</span> <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">OSGeo4W</span><span class="se">\\</span><span class="s2">bin</span><span class="se">\\</span><span class="s2">ogr2ogr.exe&quot;</span>
<span class="n">INPUT_DATA</span> <span class="o">=</span> <span class="s2">&quot;inputData.gpkg&quot;</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>

    <span class="c1"># Get parameters file path from command line argument</span>
    <span class="n">parameters_file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="c1"># Read and parse the parameters.json file</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">parameters_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>

    <span class="c1"># Reproject the parameters.json to business data CRS (EPSG:2056)</span>
    <span class="c1"># and save it as a temporary clipper.geojson file in FolderOut</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">OGR2OGR_PATH</span><span class="p">,</span>
        <span class="s2">&quot;-s_srs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;EPSG:4326&quot;</span><span class="p">,</span>
        <span class="s2">&quot;-t_srs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;EPSG:2056&quot;</span><span class="p">,</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;FolderOut&quot;</span><span class="p">],</span>
            <span class="s2">&quot;clipper.geojson&quot;</span>
        <span class="p">),</span>
        <span class="n">parameters_file</span>
    <span class="p">]</span>

    <span class="c1"># Run the ogr2ogr command while catching and raising errors</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Processing parameters file failed&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>

    <span class="c1"># Translate format to OGR format name</span>
    <span class="k">if</span> <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;Parameters&quot;</span><span class="p">][</span><span class="s2">&quot;FORMAT&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;GEOJSON&quot;</span><span class="p">:</span>
        <span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;GeoJSON&quot;</span>
    <span class="k">elif</span> <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;Parameters&quot;</span><span class="p">][</span><span class="s2">&quot;FORMAT&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;GPKG&quot;</span><span class="p">:</span>
        <span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;GPKG&quot;</span>
    <span class="k">elif</span> <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;Parameters&quot;</span><span class="p">][</span><span class="s2">&quot;FORMAT&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;DXF&quot;</span><span class="p">:</span>
        <span class="nb">format</span> <span class="o">=</span> <span class="s2">&quot;DXF&quot;</span>

    <span class="c1"># Translate Projection to OGR CRS name</span>
    <span class="k">if</span> <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;Parameters&quot;</span><span class="p">][</span><span class="s2">&quot;PROJECTION&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;SWITZERLAND95&quot;</span><span class="p">:</span>
        <span class="n">output_proj</span> <span class="o">=</span> <span class="s2">&quot;EPSG:2056&quot;</span>
    <span class="k">elif</span> <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;Parameters&quot;</span><span class="p">][</span><span class="s2">&quot;PROJECTION&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;SWITZERLAND&quot;</span><span class="p">:</span>
        <span class="n">output_proj</span> <span class="o">=</span> <span class="s2">&quot;EPSG:21781&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">output_proj</span> <span class="o">=</span> <span class="s2">&quot;EPSG:2056&quot;</span>

    <span class="c1"># Clip, reproject and save the data in FolderOut</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">OGR2OGR_PATH</span><span class="p">,</span>
        <span class="s2">&quot;-s_srs&quot;</span><span class="p">,</span>
        <span class="s2">&quot;EPSG:2056&quot;</span><span class="p">,</span>
        <span class="s2">&quot;-t_srs&quot;</span><span class="p">,</span>
        <span class="n">output_proj</span><span class="p">,</span>
        <span class="s2">&quot;-clipsrc&quot;</span><span class="p">,</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;FolderOut&quot;</span><span class="p">],</span>
            <span class="s2">&quot;clipper.geojson&quot;</span>
        <span class="p">),</span>
        <span class="s2">&quot;-f&quot;</span><span class="p">,</span>
        <span class="nb">format</span><span class="p">,</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;FolderOut&quot;</span><span class="p">],</span>
            <span class="sa">f</span><span class="s2">&quot;result.</span><span class="si">{</span><span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;Parameters&quot;</span><span class="p">][</span><span class="s2">&quot;FORMAT&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">),</span>
        <span class="n">INPUT_DATA</span>
    <span class="p">]</span>

    <span class="c1"># Run the ogr2ogr command while catching and raising errors</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Processing data failed&quot;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span> <span class="kn">from</span><span class="w"> </span><span class="nn">e</span>

    <span class="c1"># Delete temporary clipper.geojson file</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;properties&quot;</span><span class="p">][</span><span class="s2">&quot;FolderOut&quot;</span><span class="p">],</span>
            <span class="s2">&quot;clipper.geojson&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
<p>To test the script and run it locally, you can use the given example <code>parameters.json</code> and run the following command :</p>
<div class="highlight"><pre><span></span><code><span class="n">python</span> <span class="n">main</span><span class="p">.</span><span class="n">py</span> <span class="n">parameters</span><span class="p">.</span><span class="n">json</span>
</code></pre></div>
<h2 id="connect-the-workspace-to-extract">Connect the workspace to Extract</h2>
<ol>
<li>
<p>In Extract, create a new or use an existing process (see <a href="../../features/admin-guide/#processes">processes</a>).</p>
</li>
<li>
<p>Drag and drop the task plugin <code>Extraction Python</code> into the process task list.</p>
</li>
<li>
<p>In the field <code>Chemin de l'interpr√©teur Python</code>, type the path of the Python interpreter you want to use. If you use a virtual environment, you can give the path of the interpreter of the virtual environment, usually something like <code>.../.venv/Scripts/python.exe</code>. In the field <code>Chemin du script python</code>, type the path of the Python script to run.</p>
<p><img alt="plugin" src="../../assets/how-to/python/plugin.png" /></p>
</li>
<li>
<p>To test the extraction, you can link this process to viageo (see <a href="../extract-viageo/">Connect Extract to viageo.ch</a>). With our example, the linked resource can be orderable over the entire Switzerland in the following format : <code>geopackage</code>, <code>GeoJSON</code> and <code>DXF</code>. </p>
</li>
<li>
<p>Finally, you can order the linked product on viageo, Extract will retrieve the request and run the FME workspace with all request parameters carried out in the GeoJSON parameters file.</p>
</li>
</ol>
<p><br>
<br>
<br>
<br>
<br></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "search.suggest", "toc.integrate", "navigation.path", "content.code.copy"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>